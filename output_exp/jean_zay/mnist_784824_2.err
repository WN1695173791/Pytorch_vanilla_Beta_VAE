Loading pytorch-gpu/py3/1.6.0
  Loading requirement: gcc/8.3.1 cuda/10.2 nccl/2.6.4-1-cuda
    cudnn/7.6.5.32-cuda-10.2 intel-mkl/2020.1 magma/2.5.3-cuda
    openmpi/4.0.2-cuda
++ sed -n 2p parameters_combinations/mnist_classifier_ratio.txt
+ LINE='--gpu_devices 0 --max_iter 100 --batch_size 250 --use_scheduler True --lr 1e-2 --GMP True --z_struct_size 10 --is_VAE True --is_encoder_struct False --lambda_BCE 1 --beta 1 --big_kernel_size 8 --two_conv_layer True --three_conv_layer True --kernel_size_1 4 --kernel_size_2 4 --kernel_size_3 4 --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 64 --hidden_filters_layer2 64 --hidden_filters_layer3 64 --dataset_balanced True --binary_z True --binary_first_conv False --binary_second_conv False --binary_third_conv True --z_var_size 15 --z_struct_size 15 --use_small_lr_encoder_var True --encoder_var_name mnist_vae_var_2cb_15 --encoder_struct_name mnist_struct_baseline_scheduler_binary_15 --both_decoders_freeze True --freeze_Encoder True --exp_name mnist_VAE_s15_v15_BF_test'
+ echo --gpu_devices 0 --max_iter 100 --batch_size 250 --use_scheduler True --lr 1e-2 --GMP True --z_struct_size 10 --is_VAE True --is_encoder_struct False --lambda_BCE 1 --beta 1 --big_kernel_size 8 --two_conv_layer True --three_conv_layer True --kernel_size_1 4 --kernel_size_2 4 --kernel_size_3 4 --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 64 --hidden_filters_layer2 64 --hidden_filters_layer3 64 --dataset_balanced True --binary_z True --binary_first_conv False --binary_second_conv False --binary_third_conv True --z_var_size 15 --z_struct_size 15 --use_small_lr_encoder_var True --encoder_var_name mnist_vae_var_2cb_15 --encoder_struct_name mnist_struct_baseline_scheduler_binary_15 --both_decoders_freeze True --freeze_Encoder True --exp_name mnist_VAE_s15_v15_BF_test
+ python3 -u main.py --gpu_devices 0 --max_iter 100 --batch_size 250 --use_scheduler True --lr 1e-2 --GMP True --z_struct_size 10 --is_VAE True --is_encoder_struct False --lambda_BCE 1 --beta 1 --big_kernel_size 8 --two_conv_layer True --three_conv_layer True --kernel_size_1 4 --kernel_size_2 4 --kernel_size_3 4 --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 64 --hidden_filters_layer2 64 --hidden_filters_layer3 64 --dataset_balanced True --binary_z True --binary_first_conv False --binary_second_conv False --binary_third_conv True --z_var_size 15 --z_struct_size 15 --use_small_lr_encoder_var True --encoder_var_name mnist_vae_var_2cb_15 --encoder_struct_name mnist_struct_baseline_scheduler_binary_15 --both_decoders_freeze True --freeze_Encoder True --exp_name mnist_VAE_s15_v15_BF_test
--- Logging error ---
Traceback (most recent call last):
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 1025, in emit
    msg = self.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 869, in format
    return fmt.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 611, in format
    s = self.formatMessage(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 580, in formatMessage
    return self._style.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 422, in format
    return self._fmt % record.__dict__
KeyError: 'asc_time'
Call stack:
  File "main.py", line 319, in <module>
    main(args)
  File "main.py", line 31, in main
    net = SolverClassifier(arguments)
  File "/gpfsdswork/projects/rech/rjg/uiu23ko/Thesis/Pytorch_vanilla_Beta_VAE/solver_classifier.py", line 344, in __init__
    self.test_loader_size))
Message: 'Dataset mnist: train with 60000 samples and 10000 test samples'
Arguments: ()
  0%|          | 0/100.0 [00:00<?, ?it/s]  2%|▏         | 2/100.0 [00:01<01:04,  1.51it/s]  5%|▌         | 5/100.0 [00:01<00:44,  2.11it/s]  8%|▊         | 8/100.0 [00:01<00:31,  2.91it/s] 11%|█         | 11/100.0 [00:01<00:22,  3.97it/s] 14%|█▍        | 14/100.0 [00:01<00:16,  5.34it/s] 17%|█▋        | 17/100.0 [00:01<00:11,  6.98it/s] 20%|██        | 20/100.0 [00:02<00:08,  8.93it/s] 23%|██▎       | 23/100.0 [00:02<00:06, 11.20it/s] 26%|██▌       | 26/100.0 [00:02<00:05, 13.45it/s] 29%|██▉       | 29/100.0 [00:02<00:04, 15.64it/s] 32%|███▏      | 32/100.0 [00:02<00:03, 17.97it/s] 35%|███▌      | 35/100.0 [00:02<00:03, 19.71it/s] 38%|███▊      | 38/100.0 [00:02<00:02, 21.02it/s] 41%|████      | 41/100.0 [00:02<00:02, 22.61it/s] 44%|████▍     | 44/100.0 [00:02<00:02, 23.82it/s] 47%|████▋     | 47/100.0 [00:03<00:02, 24.22it/s] 50%|█████     | 50/100.0 [00:03<00:02, 24.64it/s] 53%|█████▎    | 53/100.0 [00:03<00:01, 25.38it/s] 56%|█████▌    | 56/100.0 [00:03<00:01, 25.32it/s] 59%|█████▉    | 59/100.0 [00:03<00:01, 25.28it/s] 62%|██████▏   | 62/100.0 [00:03<00:01, 25.91it/s] 65%|██████▌   | 65/100.0 [00:03<00:01, 25.85it/s] 68%|██████▊   | 68/100.0 [00:03<00:01, 25.56it/s] 71%|███████   | 71/100.0 [00:03<00:01, 26.11it/s] 74%|███████▍  | 74/100.0 [00:04<00:00, 26.32it/s] 77%|███████▋  | 77/100.0 [00:04<00:00, 25.53it/s] 80%|████████  | 80/100.0 [00:04<00:00, 25.90it/s] 83%|████████▎ | 83/100.0 [00:04<00:00, 26.31it/s] 86%|████████▌ | 86/100.0 [00:04<00:00, 25.89it/s] 89%|████████▉ | 89/100.0 [00:04<00:00, 25.80it/s] 92%|█████████▏| 92/100.0 [00:04<00:00, 26.27it/s] 95%|█████████▌| 95/100.0 [00:04<00:00, 26.34it/s] 98%|█████████▊| 98/100.0 [00:05<00:00, 25.63it/s]101it [00:05, 26.14it/s]                          104it [00:05, 26.47it/s]107it [00:05, 25.83it/s]110it [00:05, 25.95it/s]113it [00:05, 26.37it/s]116it [00:05, 25.87it/s]119it [00:05, 25.73it/s]122it [00:05, 26.18it/s]125it [00:06, 25.87it/s]128it [00:06, 25.64it/s]131it [00:06, 26.16it/s]134it [00:06, 26.06it/s]137it [00:06, 25.68it/s]140it [00:06, 26.09it/s]143it [00:06, 26.43it/s]146it [00:06, 26.02it/s]149it [00:06, 25.83it/s]152it [00:07, 26.26it/s]155it [00:07, 26.03it/s]158it [00:07, 25.76it/s]161it [00:07, 26.22it/s]164it [00:07, 26.45it/s]167it [00:07, 25.72it/s]170it [00:07, 25.97it/s]173it [00:07, 26.39it/s]176it [00:08, 25.93it/s]179it [00:08, 25.81it/s]182it [00:08, 26.30it/s]185it [00:08, 26.02it/s]188it [00:08, 25.79it/s]191it [00:08, 26.28it/s]194it [00:08, 26.45it/s]197it [00:08, 25.90it/s]200it [00:08, 25.77it/s]203it [00:09, 26.28it/s]206it [00:09, 25.93it/s]209it [00:09, 25.61it/s]212it [00:09, 26.11it/s]215it [00:09, 26.36it/s]218it [00:09, 25.66it/s]221it [00:09, 26.00it/s]224it [00:09, 26.33it/s]227it [00:09, 26.05it/s]230it [00:10, 25.90it/s]233it [00:10, 26.36it/s]236it [00:10, 26.03it/s]239it [00:10, 25.80it/s]242it [00:10, 26.27it/s]245it [00:10, 26.49it/s]248it [00:10, 25.95it/s]251it [00:10, 25.81it/s]254it [00:10, 26.27it/s]257it [00:11, 26.48it/s]260it [00:11, 26.58it/s]263it [00:11, 26.71it/s]266it [00:11, 26.85it/s]269it [00:11, 26.76it/s]Traceback (most recent call last):
  File "main.py", line 319, in <module>
    main(args)
  File "main.py", line 34, in main
    net.train()
  File "/gpfsdswork/projects/rech/rjg/uiu23ko/Thesis/Pytorch_vanilla_Beta_VAE/solver_classifier.py", line 754, in train
    self.save_checkpoint_scores_loss()
  File "/gpfsdswork/projects/rech/rjg/uiu23ko/Thesis/Pytorch_vanilla_Beta_VAE/solver_classifier.py", line 810, in save_checkpoint_scores_loss
    self.checkpoint_scores['iter'].append(self.global_iter)
AttributeError: 'SolverClassifier' object has no attribute 'checkpoint_scores'
270it [00:22, 11.88it/s]
+ wait
+ echo 'All done !'
