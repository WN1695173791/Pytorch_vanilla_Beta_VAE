Loading pytorch-gpu/py3/1.6.0
  Loading requirement: gcc/8.3.1 cuda/10.2 nccl/2.6.4-1-cuda
    cudnn/7.6.5.32-cuda-10.2 intel-mkl/2020.1 magma/2.5.3-cuda
    openmpi/4.0.2-cuda
++ sed -n 29p parameters_combinations/mnist_classifier_ratio.txt
+ LINE='--dataset mnist --model CNN --gpu_devices 0 1 --max_iter 50 --batch_size 250 --ckpt_dir checkpoints_CNN --ckpt_dir_scores checkpoint_scores_CNN --use_scheduler True --GMP True --lr 1e-3 --z_struct_size 32 --add_classification_layer True --classif_layer_size 30  --is_default_model False --is_custom_model False --is_custom_model_BK True --big_kernel_size 8 --two_conv_layer True --three_conv_layer False --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 32 --hidden_filters_layer2 32 --hidden_filters_layer3 32 --ratio_reg True --lambda_ratio_reg 1 --lambda_class 1 --other_ratio False --loss_min_distance_cl True --lambda_var_distance 0.01 --intra_class_variance_loss False --lambda_intra_class_var 1 --contrastive_loss False --lambda_contrastive_loss 1 --alpha 32 --loss Proxy_Anchor --optimizer adamw --mrg 0.1 --IPC False --warm 1 --sz_embedding 32 --dataset_balanced True --loss_distance_mean True --lambda_distance_mean 1 --value_target_distance_mean 10 --diff_var False --lambda_var_intra 1 --lambda_var_inter 1 --exp_name mnist_balanced_dataset_encoder_ratio_min_and_mean_1_3_1_1'
+ echo --dataset mnist --model CNN --gpu_devices 0 1 --max_iter 50 --batch_size 250 --ckpt_dir checkpoints_CNN --ckpt_dir_scores checkpoint_scores_CNN --use_scheduler True --GMP True --lr 1e-3 --z_struct_size 32 --add_classification_layer True --classif_layer_size 30 --is_default_model False --is_custom_model False --is_custom_model_BK True --big_kernel_size 8 --two_conv_layer True --three_conv_layer False --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 32 --hidden_filters_layer2 32 --hidden_filters_layer3 32 --ratio_reg True --lambda_ratio_reg 1 --lambda_class 1 --other_ratio False --loss_min_distance_cl True --lambda_var_distance 0.01 --intra_class_variance_loss False --lambda_intra_class_var 1 --contrastive_loss False --lambda_contrastive_loss 1 --alpha 32 --loss Proxy_Anchor --optimizer adamw --mrg 0.1 --IPC False --warm 1 --sz_embedding 32 --dataset_balanced True --loss_distance_mean True --lambda_distance_mean 1 --value_target_distance_mean 10 --diff_var False --lambda_var_intra 1 --lambda_var_inter 1 --exp_name mnist_balanced_dataset_encoder_ratio_min_and_mean_1_3_1_1
+ python3 -u main.py --dataset mnist --model CNN --gpu_devices 0 1 --max_iter 50 --batch_size 250 --ckpt_dir checkpoints_CNN --ckpt_dir_scores checkpoint_scores_CNN --use_scheduler True --GMP True --lr 1e-3 --z_struct_size 32 --add_classification_layer True --classif_layer_size 30 --is_default_model False --is_custom_model False --is_custom_model_BK True --big_kernel_size 8 --two_conv_layer True --three_conv_layer False --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 32 --hidden_filters_layer2 32 --hidden_filters_layer3 32 --ratio_reg True --lambda_ratio_reg 1 --lambda_class 1 --other_ratio False --loss_min_distance_cl True --lambda_var_distance 0.01 --intra_class_variance_loss False --lambda_intra_class_var 1 --contrastive_loss False --lambda_contrastive_loss 1 --alpha 32 --loss Proxy_Anchor --optimizer adamw --mrg 0.1 --IPC False --warm 1 --sz_embedding 32 --dataset_balanced True --loss_distance_mean True --lambda_distance_mean 1 --value_target_distance_mean 10 --diff_var False --lambda_var_intra 1 --lambda_var_inter 1 --exp_name mnist_balanced_dataset_encoder_ratio_min_and_mean_1_3_1_1
--- Logging error ---
Traceback (most recent call last):
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 1025, in emit
    msg = self.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 869, in format
    return fmt.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 611, in format
    s = self.formatMessage(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 580, in formatMessage
    return self._style.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 422, in format
    return self._fmt % record.__dict__
KeyError: 'asc_time'
Call stack:
  File "main.py", line 249, in <module>
    main(args)
  File "main.py", line 30, in main
    net = SolverClassifier(arguments)
  File "/gpfsdswork/projects/rech/rjg/uiu23ko/Thesis/Pytorch_vanilla_Beta_VAE/solver_classifier.py", line 313, in __init__
    self.test_loader_size))
Message: 'Dataset mnist: train with 60000 samples and 10000 test samples'
Arguments: ()
  0%|          | 0/50.0 [00:00<?, ?it/s]  4%|▍         | 2/50.0 [00:02<01:02,  1.31s/it]  8%|▊         | 4/50.0 [00:02<00:43,  1.07it/s] 12%|█▏        | 6/50.0 [00:02<00:29,  1.48it/s] 16%|█▌        | 8/50.0 [00:03<00:20,  2.03it/s] 20%|██        | 10/50.0 [00:03<00:14,  2.74it/s] 24%|██▍       | 12/50.0 [00:03<00:10,  3.62it/s] 28%|██▊       | 14/50.0 [00:03<00:07,  4.68it/s] 32%|███▏      | 16/50.0 [00:03<00:05,  5.90it/s] 36%|███▌      | 18/50.0 [00:03<00:04,  7.20it/s] 40%|████      | 20/50.0 [00:03<00:03,  8.53it/s] 44%|████▍     | 22/50.0 [00:03<00:02,  9.81it/s] 48%|████▊     | 24/50.0 [00:04<00:02, 10.93it/s] 52%|█████▏    | 26/50.0 [00:04<00:02, 11.91it/s] 56%|█████▌    | 28/50.0 [00:04<00:01, 12.75it/s] 60%|██████    | 30/50.0 [00:04<00:01, 13.39it/s] 64%|██████▍   | 32/50.0 [00:04<00:01, 13.84it/s] 68%|██████▊   | 34/50.0 [00:04<00:01, 14.21it/s] 72%|███████▏  | 36/50.0 [00:04<00:00, 14.49it/s] 76%|███████▌  | 38/50.0 [00:05<00:00, 14.63it/s] 80%|████████  | 40/50.0 [00:05<00:00, 14.76it/s] 84%|████████▍ | 42/50.0 [00:05<00:00, 14.80it/s] 88%|████████▊ | 44/50.0 [00:05<00:00, 14.87it/s] 92%|█████████▏| 46/50.0 [00:05<00:00, 14.81it/s] 96%|█████████▌| 48/50.0 [00:05<00:00, 14.82it/s]100%|██████████| 50/50.0 [00:05<00:00, 14.88it/s]52it [00:05, 14.86it/s]                          54it [00:06, 14.90it/s]56it [00:06, 14.95it/s]58it [00:06, 14.93it/s]60it [00:06, 14.98it/s]62it [00:06, 15.06it/s]64it [00:06, 15.11it/s]66it [00:06, 15.10it/s]68it [00:07, 15.10it/s]70it [00:07, 15.14it/s]72it [00:07, 15.17it/s]74it [00:07, 15.13it/s]76it [00:07, 15.06it/s]78it [00:07, 15.00it/s]80it [00:07, 14.94it/s]82it [00:07, 14.85it/s]84it [00:08, 14.90it/s]86it [00:08, 14.90it/s]88it [00:08, 14.91it/s]90it [00:08, 14.91it/s]92it [00:08, 14.96it/s]94it [00:08, 14.93it/s]96it [00:08, 15.00it/s]98it [00:09, 15.04it/s]100it [00:09, 15.03it/s]102it [00:09, 15.02it/s]104it [00:09, 15.05it/s]106it [00:09, 15.08it/s]108it [00:09, 15.11it/s]110it [00:09, 15.00it/s]112it [00:09, 14.98it/s]114it [00:10, 14.91it/s]116it [00:10, 14.85it/s]118it [00:10, 14.90it/s]120it [00:10, 14.88it/s]122it [00:10, 14.88it/s]124it [00:10, 14.91it/s]126it [00:10, 14.94it/s]128it [00:11, 14.93it/s]130it [00:11, 14.99it/s]132it [00:11, 15.04it/s]134it [00:11, 15.02it/s]136it [00:11, 15.04it/s]138it [00:11, 15.07it/s]140it [00:11, 15.11it/s]142it [00:11, 15.12it/s]144it [00:12, 15.00it/s]146it [00:12, 14.99it/s]148it [00:12, 14.87it/s]150it [00:12, 14.83it/s]152it [00:12, 14.88it/s]154it [00:12, 14.88it/s]156it [00:12, 14.89it/s]158it [00:13, 14.91it/s]160it [00:13, 14.99it/s]162it [00:13, 14.94it/s]164it [00:13, 14.96it/s]166it [00:13, 15.01it/s]168it [00:13, 15.01it/s]170it [00:13, 15.05it/s]172it [00:13, 15.09it/s]174it [00:14, 15.13it/s]176it [00:14, 15.15it/s]178it [00:14, 15.06it/s]180it [00:14, 14.93it/s]182it [00:14, 14.83it/s]184it [00:14, 14.85it/s]186it [00:14, 14.89it/s]188it [00:15, 14.88it/s]190it [00:15, 14.91it/s]192it [00:15, 14.93it/s]194it [00:15, 15.00it/s]196it [00:15, 14.93it/s]198it [00:15, 14.99it/s]200it [00:15, 15.03it/s]202it [00:15, 15.04it/s]204it [00:16, 15.08it/s]206it [00:16, 15.13it/s]208it [00:16, 15.16it/s]210it [00:16, 15.22it/s]212it [00:16, 15.09it/s]214it [00:16, 15.03it/s]216it [00:16, 14.91it/s]218it [00:17, 14.89it/s]220it [00:17, 14.92it/s]222it [00:17, 14.90it/s]224it [00:17, 14.91it/s]226it [00:17, 14.93it/s]228it [00:17, 15.00it/s]230it [00:17, 14.94it/s]232it [00:17, 14.98it/s]234it [00:18, 15.01it/s]236it [00:18, 15.02it/s]238it [00:18, 15.08it/s]240it [00:18, 15.13it/s]242it [00:18, 15.14it/s]244it [00:18, 15.15it/s]246it [00:18, 15.08it/s]248it [00:19, 14.97it/s]250it [00:19, 14.84it/s]252it [00:19, 14.87it/s]254it [00:19, 14.87it/s]256it [00:19, 14.89it/s]258it [00:19, 14.90it/s]260it [00:19, 14.95it/s]262it [00:19, 15.00it/s]264it [00:20, 14.95it/s]266it [00:20, 15.00it/s]268it [00:20, 15.02it/s]270it [00:20, 15.41it/s]                        270it [00:34, 15.41it/s]272it [00:34,  2.12s/it]274it [00:34,  1.50s/it]276it [00:34,  1.07s/it]278it [00:34,  1.30it/s]280it [00:34,  1.79it/s]282it [00:34,  2.42it/s]284it [00:35,  3.24it/s]286it [00:35,  4.23it/s]288it [00:35,  5.39it/s]290it [00:35,  6.67it/s]292it [00:35,  8.02it/s]294it [00:35,  9.30it/s]296it [00:35, 10.51it/s]298it [00:36, 11.59it/s]300it [00:36, 12.45it/s]302it [00:36, 13.14it/s]304it [00:36, 13.71it/s]306it [00:36, 14.14it/s]308it [00:36, 14.48it/s]310it [00:36, 14.63it/s]312it [00:36, 14.71it/s]314it [00:37, 14.76it/s]316it [00:37, 14.71it/s]318it [00:37, 14.76it/s]320it [00:37, 14.78it/s]322it [00:37, 14.84it/s]324it [00:37, 14.86it/s]326it [00:37, 14.90it/s]328it [00:38, 14.85it/s]330it [00:38, 14.92it/s]332it [00:38, 15.01it/s]334it [00:38, 15.03it/s]336it [00:38, 15.06it/s]338it [00:38, 15.12it/s]340it [00:38, 15.16it/s]342it [00:38, 15.21it/s]344it [00:39, 15.11it/s]346it [00:39, 15.05it/s]348it [00:39, 15.00it/s]350it [00:39, 14.85it/s]352it [00:39, 14.90it/s]354it [00:39, 14.89it/s]356it [00:39, 14.91it/s]358it [00:40, 14.91it/s]360it [00:40, 14.94it/s]362it [00:40, 14.90it/s]364it [00:40, 14.97it/s]366it [00:40, 15.01it/s]368it [00:40, 15.02it/s]370it [00:40, 15.03it/s]372it [00:40, 15.09it/s]374it [00:41, 15.15it/s]376it [00:41, 15.20it/s]378it [00:41, 15.08it/s]380it [00:41, 15.07it/s]382it [00:41, 14.95it/s]384it [00:41, 14.88it/s]386it [00:41, 14.93it/s]388it [00:42, 14.91it/s]390it [00:42, 14.91it/s]392it [00:42, 14.95it/s]394it [00:42, 14.96it/s]396it [00:42, 14.95it/s]398it [00:42, 14.96it/s]400it [00:42, 14.99it/s]402it [00:42, 15.01it/s]404it [00:43, 15.06it/s]406it [00:43, 15.10it/s]408it [00:43, 15.16it/s]410it [00:43, 15.19it/s]412it [00:43, 15.05it/s]414it [00:43, 14.99it/s]416it [00:43, 14.87it/s]418it [00:44, 14.85it/s]420it [00:44, 14.90it/s]422it [00:44, 14.90it/s]424it [00:44, 14.88it/s]426it [00:44, 14.95it/s]428it [00:44, 14.92it/s]430it [00:44, 14.94it/s]432it [00:44, 15.01it/s]434it [00:45, 15.02it/s]436it [00:45, 15.03it/s]438it [00:45, 15.07it/s]440it [00:45, 15.12it/s]442it [00:45, 15.17it/s]444it [00:45, 15.13it/s]446it [00:45, 15.02it/s]448it [00:46, 15.03it/s]450it [00:46, 14.93it/s]452it [00:46, 14.91it/s]454it [00:46, 14.92it/s]456it [00:46, 14.93it/s]458it [00:46, 14.90it/s]460it [00:46, 14.95it/s]462it [00:46, 14.92it/s]464it [00:47, 14.91it/s]466it [00:47, 14.99it/s]468it [00:47, 15.01it/s]470it [00:47, 15.00it/s]472it [00:47, 15.06it/s]474it [00:47, 15.11it/s]476it [00:47, 15.17it/s]478it [00:48, 15.12it/s]480it [00:48, 15.03it/s]482it [00:48, 15.01it/s]484it [00:48, 14.90it/s]486it [00:48, 14.90it/s]488it [00:48, 14.92it/s]490it [00:48, 14.91it/s]492it [00:48, 14.92it/s]494it [00:49, 14.95it/s]496it [00:49, 15.01it/s]498it [00:49, 14.95it/s]500it [00:49, 14.99it/s]502it [00:49, 15.00it/s]504it [00:49, 14.99it/s]506it [00:49, 15.04it/s]508it [00:50, 15.10it/s]510it [00:50, 15.15it/s]512it [00:50, 15.20it/s]514it [00:50, 15.06it/s]516it [00:50, 14.98it/s]518it [00:50, 14.85it/s]520it [00:50, 14.91it/s]522it [00:50, 14.91it/s]524it [00:51, 14.93it/s]526it [00:51, 14.93it/s]528it [00:51, 14.97it/s]530it [00:51, 14.99it/s]532it [00:51, 14.99it/s]534it [00:51, 15.03it/s]536it [00:51, 15.04it/s]538it [00:52, 15.05it/s]540it [00:52, 15.46it/s]                        540it [01:05, 15.46it/s]542it [01:05,  2.12s/it]544it [01:06,  1.50s/it]546it [01:06,  1.07s/it]548it [01:06,  1.30it/s]550it [01:06,  1.79it/s]552it [01:06,  2.43it/s]554it [01:06,  3.24it/s]556it [01:06,  4.23it/s]558it [01:07,  5.39it/s]560it [01:07,  6.68it/s]562it [01:07,  7.99it/s]564it [01:07,  9.30it/s]566it [01:07, 10.52it/s]568it [01:07, 11.57it/s]570it [01:07, 12.43it/s]572it [01:08, 13.15it/s]574it [01:08, 13.70it/s]576it [01:08, 14.14it/s]578it [01:08, 14.39it/s]580it [01:08, 14.51it/s]582it [01:08, 14.64it/s]584it [01:08, 14.61it/s]586it [01:08, 14.68it/s]588it [01:09, 14.74it/s]590it [01:09, 14.79it/s]592it [01:09, 14.78it/s]594it [01:09, 14.87it/s]596it [01:09, 14.85it/s]598it [01:09, 14.92it/s]600it [01:09, 14.99it/s]602it [01:10, 15.01it/s]604it [01:10, 15.02it/s]606it [01:10, 15.05it/s]608it [01:10, 15.08it/s]610it [01:10, 15.13it/s]612it [01:10, 15.04it/s]614it [01:10, 14.95it/s]616it [01:10, 14.91it/s]618it [01:11, 14.79it/s]620it [01:11, 14.83it/s]622it [01:11, 14.83it/s]624it [01:11, 14.85it/s]626it [01:11, 14.85it/s]628it [01:11, 14.93it/s]630it [01:11, 14.90it/s]632it [01:12, 14.95it/s]634it [01:12, 15.01it/s]636it [01:12, 15.01it/s]638it [01:12, 15.03it/s]640it [01:12, 15.04it/s]642it [01:12, 15.08it/s]644it [01:12, 15.10it/s]646it [01:12, 15.07it/s]648it [01:13, 14.97it/s]650it [01:13, 14.94it/s]652it [01:13, 14.76it/s]654it [01:13, 14.82it/s]656it [01:13, 14.81it/s]658it [01:13, 14.84it/s]660it [01:13, 14.84it/s]662it [01:14, 14.94it/s]664it [01:14, 14.87it/s]666it [01:14, 14.95it/s]668it [01:14, 15.01it/s]670it [01:14, 15.02it/s]672it [01:14, 15.03it/s]674it [01:14, 15.07it/s]676it [01:14, 15.11it/s]678it [01:15, 15.17it/s]680it [01:15, 15.07it/s]682it [01:15, 14.98it/s]684it [01:15, 14.94it/s]686it [01:15, 14.83it/s]688it [01:15, 14.88it/s]690it [01:15, 14.87it/s]692it [01:16, 14.90it/s]694it [01:16, 14.89it/s]696it [01:16, 14.95it/s]698it [01:16, 14.88it/s]700it [01:16, 14.97it/s]702it [01:16, 15.03it/s]704it [01:16, 15.03it/s]706it [01:16, 15.05it/s]708it [01:17, 15.10it/s]710it [01:17, 15.14it/s]712it [01:17, 15.18it/s]714it [01:17, 15.06it/s]716it [01:17, 15.01it/s]718it [01:17, 14.98it/s]720it [01:17, 14.85it/s]722it [01:18, 14.86it/s]724it [01:18, 14.85it/s]726it [01:18, 14.86it/s]728it [01:18, 14.86it/s]730it [01:18, 14.93it/s]732it [01:18, 14.89it/s]734it [01:18, 14.93it/s]736it [01:18, 14.99it/s]738it [01:19, 14.93it/s]740it [01:19, 14.95it/s]742it [01:19, 15.02it/s]744it [01:19, 15.08it/s]746it [01:19, 15.12it/s]748it [01:19, 15.09it/s]750it [01:19, 14.97it/s]752it [01:20, 14.90it/s]754it [01:20, 14.77it/s]756it [01:20, 14.82it/s]758it [01:20, 14.81it/s]760it [01:20, 14.84it/s]762it [01:20, 14.85it/s]764it [01:20, 14.95it/s]766it [01:20, 14.88it/s]768it [01:21, 14.95it/s]770it [01:21, 15.01it/s]772it [01:21, 15.02it/s]774it [01:21, 15.03it/s]776it [01:21, 15.08it/s]778it [01:21, 15.13it/s]780it [01:21, 15.18it/s]782it [01:22, 15.09it/s]784it [01:22, 15.01it/s]786it [01:22, 14.94it/s]788it [01:22, 14.87it/s]790it [01:22, 14.94it/s]792it [01:22, 14.89it/s]794it [01:22, 14.89it/s]796it [01:22, 14.90it/s]798it [01:23, 14.90it/s]800it [01:23, 14.92it/s]802it [01:23, 15.00it/s]804it [01:23, 15.07it/s]806it [01:23, 15.08it/s]808it [01:23, 15.08it/s]810it [01:23, 15.48it/s]slurmstepd: error: *** JOB 393328 ON jean-zay-ia824 CANCELLED AT 2021-03-18T09:52:58 DUE TO TIME LIMIT ***
