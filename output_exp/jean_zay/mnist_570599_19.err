Loading pytorch-gpu/py3/1.6.0
  Loading requirement: gcc/8.3.1 cuda/10.2 nccl/2.6.4-1-cuda
    cudnn/7.6.5.32-cuda-10.2 intel-mkl/2020.1 magma/2.5.3-cuda
    openmpi/4.0.2-cuda
++ sed -n 19p parameters_combinations/mnist_classifier_ratio.txt
+ LINE='--dataset mnist --model CNN --gpu_devices 0 1 --max_iter 50 --batch_size 250 --ckpt_dir checkpoints_CNN --ckpt_dir_scores checkpoint_scores_CNN --use_scheduler False --GMP True --lr 1e-4 --z_struct_size 32 --add_classification_layer True --classif_layer_size 30  --is_default_model False --is_custom_model False --is_custom_model_BK True --big_kernel_size 8  --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --ratio_reg True --lambda_ratio_reg 1 --lambda_class 1 --other_ratio False --loss_min_distance_cl True --lambda_var_distance 0.1 --intra_class_variance_loss False --lambda_intra_class_var 1 --contrastive_loss False --lambda_contrastive_loss 1 --alpha 32 --loss Proxy_Anchor --optimizer adamw --mrg 0.1 --IPC False --warm 1 --sz_embedding 32 --dataset_balanced True --loss_distance_mean True --lambda_distance_mean 1 --value_target_distance_mean 10 --diff_var False --lambda_var_intra 1 --lambda_var_inter 1 --decoder_first_dense 36 --decoder_n_filter_1 32 --decoder_n_filter_2 32 --decoder_n_filter_3 32 --decoder_kernel_size_1 4 --decoder_kernel_size_2 4 --decoder_kernel_size_3 5 --decoder_stride_1 2 --decoder_stride_2 1 --decoder_stride_3 1 --use_decoder True --other_architecture True --var_hidden_filters_1 32 --var_hidden_filters_2 32 --var_hidden_filters_3 32 --var_kernel_size_1 4 --var_kernel_size_2 4 --var_kernel_size_3 5 --var_stride_size_1 2 --var_stride_size_2 1 --var_stride_size_3 1 --var_hidden_dim 256 --var_three_conv_layer False --exp_name mnist_balanced_dataset_encoder_ratio_min_and_mean_1_2_1_1_z_struct_32_decoder_2c'
+ echo --dataset mnist --model CNN --gpu_devices 0 1 --max_iter 50 --batch_size 250 --ckpt_dir checkpoints_CNN --ckpt_dir_scores checkpoint_scores_CNN --use_scheduler False --GMP True --lr 1e-4 --z_struct_size 32 --add_classification_layer True --classif_layer_size 30 --is_default_model False --is_custom_model False --is_custom_model_BK True --big_kernel_size 8 --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --ratio_reg True --lambda_ratio_reg 1 --lambda_class 1 --other_ratio False --loss_min_distance_cl True --lambda_var_distance 0.1 --intra_class_variance_loss False --lambda_intra_class_var 1 --contrastive_loss False --lambda_contrastive_loss 1 --alpha 32 --loss Proxy_Anchor --optimizer adamw --mrg 0.1 --IPC False --warm 1 --sz_embedding 32 --dataset_balanced True --loss_distance_mean True --lambda_distance_mean 1 --value_target_distance_mean 10 --diff_var False --lambda_var_intra 1 --lambda_var_inter 1 --decoder_first_dense 36 --decoder_n_filter_1 32 --decoder_n_filter_2 32 --decoder_n_filter_3 32 --decoder_kernel_size_1 4 --decoder_kernel_size_2 4 --decoder_kernel_size_3 5 --decoder_stride_1 2 --decoder_stride_2 1 --decoder_stride_3 1 --use_decoder True --other_architecture True --var_hidden_filters_1 32 --var_hidden_filters_2 32 --var_hidden_filters_3 32 --var_kernel_size_1 4 --var_kernel_size_2 4 --var_kernel_size_3 5 --var_stride_size_1 2 --var_stride_size_2 1 --var_stride_size_3 1 --var_hidden_dim 256 --var_three_conv_layer False --exp_name mnist_balanced_dataset_encoder_ratio_min_and_mean_1_2_1_1_z_struct_32_decoder_2c
+ python3 -u main.py --dataset mnist --model CNN --gpu_devices 0 1 --max_iter 50 --batch_size 250 --ckpt_dir checkpoints_CNN --ckpt_dir_scores checkpoint_scores_CNN --use_scheduler False --GMP True --lr 1e-4 --z_struct_size 32 --add_classification_layer True --classif_layer_size 30 --is_default_model False --is_custom_model False --is_custom_model_BK True --big_kernel_size 8 --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --ratio_reg True --lambda_ratio_reg 1 --lambda_class 1 --other_ratio False --loss_min_distance_cl True --lambda_var_distance 0.1 --intra_class_variance_loss False --lambda_intra_class_var 1 --contrastive_loss False --lambda_contrastive_loss 1 --alpha 32 --loss Proxy_Anchor --optimizer adamw --mrg 0.1 --IPC False --warm 1 --sz_embedding 32 --dataset_balanced True --loss_distance_mean True --lambda_distance_mean 1 --value_target_distance_mean 10 --diff_var False --lambda_var_intra 1 --lambda_var_inter 1 --decoder_first_dense 36 --decoder_n_filter_1 32 --decoder_n_filter_2 32 --decoder_n_filter_3 32 --decoder_kernel_size_1 4 --decoder_kernel_size_2 4 --decoder_kernel_size_3 5 --decoder_stride_1 2 --decoder_stride_2 1 --decoder_stride_3 1 --use_decoder True --other_architecture True --var_hidden_filters_1 32 --var_hidden_filters_2 32 --var_hidden_filters_3 32 --var_kernel_size_1 4 --var_kernel_size_2 4 --var_kernel_size_3 5 --var_stride_size_1 2 --var_stride_size_2 1 --var_stride_size_3 1 --var_hidden_dim 256 --var_three_conv_layer False --exp_name mnist_balanced_dataset_encoder_ratio_min_and_mean_1_2_1_1_z_struct_32_decoder_2c
--- Logging error ---
Traceback (most recent call last):
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 1025, in emit
    msg = self.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 869, in format
    return fmt.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 611, in format
    s = self.formatMessage(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 580, in formatMessage
    return self._style.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 422, in format
    return self._fmt % record.__dict__
KeyError: 'asc_time'
Call stack:
  File "main.py", line 288, in <module>
    main(args)
  File "main.py", line 31, in main
    net = SolverClassifier(arguments)
  File "/gpfsdswork/projects/rech/rjg/uiu23ko/Thesis/Pytorch_vanilla_Beta_VAE/solver_classifier.py", line 344, in __init__
    self.test_loader_size))
Message: 'Dataset mnist: train with 60000 samples and 10000 test samples'
Arguments: ()
  0%|          | 0/50.0 [00:00<?, ?it/s]  4%|▍         | 2/50.0 [00:01<00:30,  1.58it/s] 10%|█         | 5/50.0 [00:01<00:20,  2.21it/s] 16%|█▌        | 8/50.0 [00:01<00:13,  3.05it/s] 22%|██▏       | 11/50.0 [00:01<00:09,  4.16it/s] 28%|██▊       | 14/50.0 [00:01<00:06,  5.59it/s] 34%|███▍      | 17/50.0 [00:01<00:04,  7.36it/s] 40%|████      | 20/50.0 [00:01<00:03,  9.44it/s] 46%|████▌     | 23/50.0 [00:02<00:02, 11.78it/s] 52%|█████▏    | 26/50.0 [00:02<00:01, 14.26it/s] 58%|█████▊    | 29/50.0 [00:02<00:01, 16.71it/s] 64%|██████▍   | 32/50.0 [00:02<00:00, 19.01it/s] 70%|███████   | 35/50.0 [00:02<00:00, 21.02it/s] 76%|███████▌  | 38/50.0 [00:02<00:00, 22.74it/s] 82%|████████▏ | 41/50.0 [00:02<00:00, 24.08it/s] 88%|████████▊ | 44/50.0 [00:02<00:00, 25.14it/s] 94%|█████████▍| 47/50.0 [00:02<00:00, 25.87it/s]100%|██████████| 50/50.0 [00:02<00:00, 26.46it/s]53it [00:03, 26.87it/s]                          56it [00:03, 27.20it/s]59it [00:03, 27.43it/s]62it [00:03, 27.56it/s]65it [00:03, 27.71it/s]68it [00:03, 27.77it/s]71it [00:03, 27.84it/s]74it [00:03, 27.84it/s]77it [00:03, 27.93it/s]80it [00:04, 27.93it/s]83it [00:04, 27.91it/s]86it [00:04, 27.92it/s]89it [00:04, 27.93it/s]92it [00:04, 27.96it/s]95it [00:04, 27.96it/s]98it [00:04, 27.97it/s]101it [00:04, 27.95it/s]104it [00:04, 27.96it/s]107it [00:05, 27.96it/s]110it [00:05, 28.00it/s]113it [00:05, 27.96it/s]116it [00:05, 27.97it/s]119it [00:05, 27.98it/s]122it [00:05, 27.98it/s]125it [00:05, 28.00it/s]128it [00:05, 27.99it/s]131it [00:05, 28.01it/s]134it [00:05, 27.98it/s]137it [00:06, 28.00it/s]140it [00:06, 27.98it/s]143it [00:06, 27.98it/s]146it [00:06, 27.99it/s]149it [00:06, 27.97it/s]152it [00:06, 27.99it/s]155it [00:06, 27.94it/s]158it [00:06, 27.95it/s]161it [00:06, 27.95it/s]164it [00:07, 28.00it/s]167it [00:07, 27.99it/s]170it [00:07, 28.01it/s]173it [00:07, 27.99it/s]176it [00:07, 27.97it/s]179it [00:07, 27.96it/s]182it [00:07, 27.95it/s]185it [00:07, 27.96it/s]188it [00:07, 27.90it/s]191it [00:08, 27.93it/s]194it [00:08, 27.91it/s]197it [00:08, 27.94it/s]200it [00:08, 27.93it/s]203it [00:08, 27.95it/s]206it [00:08, 27.96it/s]209it [00:08, 27.97it/s]212it [00:08, 27.99it/s]215it [00:08, 27.96it/s]218it [00:08, 27.97it/s]221it [00:09, 27.96it/s]224it [00:09, 27.97it/s]227it [00:09, 27.95it/s]230it [00:09, 27.98it/s]233it [00:09, 27.96it/s]236it [00:09, 27.97it/s]239it [00:09, 27.96it/s]242it [00:09, 27.97it/s]245it [00:09, 27.97it/s]248it [00:10, 27.94it/s]251it [00:10, 27.97it/s]254it [00:10, 27.93it/s]257it [00:10, 27.95it/s]260it [00:10, 27.90it/s]263it [00:10, 27.92it/s]266it [00:10, 27.94it/s]269it [00:10, 27.88it/s]Traceback (most recent call last):
  File "main.py", line 288, in <module>
    main(args)
  File "main.py", line 34, in main
    net.train()
  File "/gpfsdswork/projects/rech/rjg/uiu23ko/Thesis/Pytorch_vanilla_Beta_VAE/solver_classifier.py", line 797, in train
    self.save_checkpoint('last')
  File "/gpfsdswork/projects/rech/rjg/uiu23ko/Thesis/Pytorch_vanilla_Beta_VAE/solver_classifier.py", line 945, in save_checkpoint
    with open(file_path, mode='wb+') as f:
FileNotFoundError: [Errno 2] No such file or directory: 'checkpoints_CNN/mnist_balanced_dataset_encoder_ratio_min_and_mean_1_2_1_1_z_struct_32_decoder_2c/last'
270it [00:10, 24.81it/s]
+ wait
+ echo 'All done !'
