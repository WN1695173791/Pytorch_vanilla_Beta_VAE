Loading pytorch-gpu/py3/1.6.0
  Loading requirement: gcc/8.3.1 cuda/10.2 nccl/2.6.4-1-cuda
    cudnn/7.6.5.32-cuda-10.2 intel-mkl/2020.1 magma/2.5.3-cuda
    openmpi/4.0.2-cuda
++ sed -n 31p parameters_combinations/mnist_classifier_ratio.txt
+ LINE='--gpu_devices 0 --max_iter 100 --batch_size 250 --use_scheduler True --lr 1e-3 --GMP True --z_struct_size 10 --is_VAE True --is_encoder_struct False --lambda_BCE 1 --beta 1 --big_kernel_size 8 --two_conv_layer True --three_conv_layer True --kernel_size_1 4 --kernel_size_2 4 --kernel_size_3 4 --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 64 --hidden_filters_layer2 64 --hidden_filters_layer3 64 --dataset_balanced True --binary_z True --binary_first_conv False --binary_second_conv False --binary_third_conv True --z_var_size 30 --z_struct_size 30 --use_small_lr_encoder_var True --encoder_var_name mnist_vae_var_2cb_30 --encoder_struct_name mnist_struct_baseline_scheduler_binary_30 ---both_decoders_freeze True -freeze_Encoder True --exp_name mnist_VAE_s30_v30_BF'
+ echo --gpu_devices 0 --max_iter 100 --batch_size 250 --use_scheduler True --lr 1e-3 --GMP True --z_struct_size 10 --is_VAE True --is_encoder_struct False --lambda_BCE 1 --beta 1 --big_kernel_size 8 --two_conv_layer True --three_conv_layer True --kernel_size_1 4 --kernel_size_2 4 --kernel_size_3 4 --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 64 --hidden_filters_layer2 64 --hidden_filters_layer3 64 --dataset_balanced True --binary_z True --binary_first_conv False --binary_second_conv False --binary_third_conv True --z_var_size 30 --z_struct_size 30 --use_small_lr_encoder_var True --encoder_var_name mnist_vae_var_2cb_30 --encoder_struct_name mnist_struct_baseline_scheduler_binary_30 ---both_decoders_freeze True -freeze_Encoder True --exp_name mnist_VAE_s30_v30_BF
+ python3 -u main.py --gpu_devices 0 --max_iter 100 --batch_size 250 --use_scheduler True --lr 1e-3 --GMP True --z_struct_size 10 --is_VAE True --is_encoder_struct False --lambda_BCE 1 --beta 1 --big_kernel_size 8 --two_conv_layer True --three_conv_layer True --kernel_size_1 4 --kernel_size_2 4 --kernel_size_3 4 --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 64 --hidden_filters_layer2 64 --hidden_filters_layer3 64 --dataset_balanced True --binary_z True --binary_first_conv False --binary_second_conv False --binary_third_conv True --z_var_size 30 --z_struct_size 30 --use_small_lr_encoder_var True --encoder_var_name mnist_vae_var_2cb_30 --encoder_struct_name mnist_struct_baseline_scheduler_binary_30 ---both_decoders_freeze True -freeze_Encoder True --exp_name mnist_VAE_s30_v30_BF
usage: main.py [-h] [-L {CRITICAL,ERROR,WARNING,INFO,DEBUG,NOTSET}]
               [--train TRAIN] [--seed SEED] [--cuda CUDA]
               [--max_iter MAX_ITER] [--batch_size BATCH_SIZE]
               [--random_percentage RANDOM_PERCENTAGE]
               [--second_layer_C SECOND_LAYER_C]
               [--latent_spec_cont integer value]
               [--latent_spec_disc integer list [integer list ...]]
               [--latent_spec_cont_var integer value]
               [--latent_spec_cont_class integer value]
               [--latent_spec_disc_var integer value [integer value ...]]
               [--latent_spec_disc_class integer value [integer value ...]]
               [--L3_without_random L3_WITHOUT_RANDOM] [--is_C IS_C]
               [--is_partial_rand_class IS_PARTIAL_RAND_CLASS] [--is_E1 IS_E1]
               [--is_binary_structural_latent IS_BINARY_STRUCTURAL_LATENT]
               [--is_zvar_sim_loss IS_ZVAR_SIM_LOSS] [--BN BN]
               [--E1_conv E1_CONV] [--E1_dense E1_DENSE]
               [--is_noise_stats IS_NOISE_STATS]
               [--zvar_sim_loss_only_for_encoder ZVAR_SIM_LOSS_ONLY_FOR_ENCODER]
               [--zvar_sim_loss_for_all_model ZVAR_SIM_LOSS_FOR_ALL_MODEL]
               [--old_weighted OLD_WEIGHTED] [--E1_second_conv E1_SECOND_CONV]
               [--E1_second_conv_adapt E1_SECOND_CONV_ADAPT]
               [--L1_norm_weights L1_NORM_WEIGHTS] [--L1_norm_act L1_NORM_ACT]
               [--E1_VAE E1_VAE] [--E1_AE E1_AE] [--two_encoder TWO_ENCODER]
               [--big_kernel_size integer value] [--big_kernel BIG_KERNEL]
               [--GMP GMP] [--zeros_W_Classif ZEROS_W_CLASSIF]
               [--use_early_stopping USE_EARLY_STOPPING]
               [--hidden_filters_layer1 integer value]
               [--hidden_filters_layer2 integer value]
               [--hidden_filters_layer3 integer value]
               [--stride_size integer value] [--kernel_size integer value]
               [--adapt_lr ADAPT_LR] [--is_perturbed_score IS_PERTURBED_SCORE]
               [--zvar_sim_var_rand ZVAR_SIM_VAR_RAND]
               [--zvar_sim_normal ZVAR_SIM_NORMAL]
               [--zvar_sim_change_zvar ZVAR_SIM_CHANGE_ZVAR]
               [--lambda_zvar_sim LAMBDA_ZVAR_SIM]
               [--lambda_class LAMBDA_CLASS] [--lambda_recons LAMBDA_RECONS]
               [--lambda_recon_wt_rand LAMBDA_RECON_WT_RAND]
               [--lambda_Kl_var LAMBDA_KL_VAR]
               [--lambda_Kl_struct LAMBDA_KL_STRUCT]
               [--lambda_partial_class LAMBDA_PARTIAL_CLASS]
               [--lambda_VAE LAMBDA_VAE] [--lambda_L1 LAMBDA_L1]
               [--gamma GAMMA] [--C_max C_MAX] [--C_stop_iter C_STOP_ITER]
               [--lr LR] [--beta1 BETA1] [--beta2 BETA2] [--dset_dir DSET_DIR]
               [--dataset DATASET] [--image_size IMAGE_SIZE]
               [--num_workers NUM_WORKERS] [--exp_name EXP_NAME]
               [--display_step DISPLAY_STEP] [--save_step SAVE_STEP]
               [--just_train JUST_TRAIN] [--ckpt_dir CKPT_DIR]
               [--ckpt_dir_scores CKPT_DIR_SCORES]
               [--gpu_devices GPU_DEVICES [GPU_DEVICES ...]]
               [--dataset_balanced DATASET_BALANCED] [--model MODEL]
               [--is_default_model IS_DEFAULT_MODEL]
               [--is_custom_model IS_CUSTOM_MODEL]
               [--is_custom_model_BK IS_CUSTOM_MODEL_BK]
               [--is_encoder_struct IS_ENCODER_STRUCT]
               [--add_z_struct_bottleneck ADD_Z_STRUCT_BOTTLENECK]
               [--add_classification_layer ADD_CLASSIFICATION_LAYER]
               [--z_struct_size Z_STRUCT_SIZE]
               [--classif_layer_size CLASSIF_LAYER_SIZE]
               [--BK_in_first_layer BK_IN_FIRST_LAYER]
               [--BK_in_second_layer BK_IN_SECOND_LAYER]
               [--BK_in_third_layer BK_IN_THIRD_LAYER]
               [--two_conv_layer TWO_CONV_LAYER]
               [--three_conv_layer THREE_CONV_LAYER]
               [--use_scheduler USE_SCHEDULER]
               [--add_linear_after_GMP ADD_LINEAR_AFTER_GMP]
               [--without_acc WITHOUT_ACC]
               [--contrastive_loss CONTRASTIVE_LOSS] [--binary_z BINARY_Z]
               [--binary_chain BINARY_CHAIN] [--ratio_reg RATIO_REG]
               [--lambda_ratio_reg LAMBDA_RATIO_REG]
               [--other_ratio OTHER_RATIO]
               [--lambda_var_intra LAMBDA_VAR_INTRA]
               [--lambda_var_inter LAMBDA_VAR_INTER] [--LOG_DIR LOG_DIR]
               [--alpha ALPHA] [--loss LOSS] [--optimizer OPTIMIZER]
               [--mrg MRG] [--IPC IPC] [--warm WARM]
               [--sz_embedding SZ_EMBEDDING] [--remark REMARK]
               [--lambda_contrastive_loss LAMBDA_CONTRASTIVE_LOSS]
               [--loss_min_distance_cl LOSS_MIN_DISTANCE_CL]
               [--lambda_var_distance LAMBDA_VAR_DISTANCE]
               [--intra_class_variance_loss INTRA_CLASS_VARIANCE_LOSS]
               [--lambda_intra_class_var LAMBDA_INTRA_CLASS_VAR]
               [--loss_distance_mean LOSS_DISTANCE_MEAN]
               [--lambda_distance_mean LAMBDA_DISTANCE_MEAN]
               [--value_target_distance_mean VALUE_TARGET_DISTANCE_MEAN]
               [--diff_var DIFF_VAR] [--use_decoder USE_DECODER]
               [--freeze_Encoder FREEZE_ENCODER]
               [--decoder_first_dense integer value]
               [--decoder_n_filter_1 integer value]
               [--decoder_n_filter_2 integer value]
               [--decoder_n_filter_3 integer value]
               [--decoder_kernel_size_1 integer value]
               [--decoder_kernel_size_2 integer value]
               [--decoder_kernel_size_3 integer value]
               [--decoder_stride_1 integer value]
               [--decoder_stride_2 integer value]
               [--decoder_stride_3 integer value] [--randomness RANDOMNESS]
               [--random_seed integer value] [--use_VAE USE_VAE]
               [--z_var_size integer value] [--lambda_BCE LAMBDA_BCE]
               [--beta BETA] [--var_hidden_filters_1 integer value]
               [--var_hidden_filters_2 integer value]
               [--var_hidden_filters_3 integer value]
               [--var_kernel_size_1 integer value]
               [--var_kernel_size_2 integer value]
               [--var_kernel_size_3 integer value]
               [--var_stride_size_1 integer value]
               [--var_stride_size_2 integer value]
               [--var_stride_size_3 integer value]
               [--var_hidden_dim integer value]
               [--var_three_conv_layer VAR_THREE_CONV_LAYER]
               [--nb_epochs_train_only_zvar integer value]
               [--train_var_struct_alternatively TRAIN_VAR_STRUCT_ALTERNATIVELY]
               [--use_structural_encoder USE_STRUCTURAL_ENCODER]
               [--kernel_size_1 integer value] [--kernel_size_2 integer value]
               [--kernel_size_3 integer value]
               [--binary_first_conv BINARY_FIRST_CONV]
               [--binary_second_conv BINARY_SECOND_CONV]
               [--binary_third_conv BINARY_THIRD_CONV]
               [--Hmg_dst_loss HMG_DST_LOSS] [--lambda_hmg_dst LAMBDA_HMG_DST]
               [--uniq_code_dst_loss UNIQ_CODE_DST_LOSS]
               [--lambda_uniq_code_dst LAMBDA_UNIQ_CODE_DST]
               [--max_epoch_use_uniq_code_target MAX_EPOCH_USE_UNIQ_CODE_TARGET]
               [--is_VAE_var IS_VAE_VAR]
               [--var_second_cnn_block VAR_SECOND_CNN_BLOCK]
               [--var_third_cnn_block VAR_THIRD_CNN_BLOCK]
               [--other_architecture OTHER_ARCHITECTURE] [--is_VAE IS_VAE]
               [--encoder_var_name ENCODER_VAR_NAME]
               [--encoder_struct_name ENCODER_STRUCT_NAME]
               [--use_small_lr_encoder_var USE_SMALL_LR_ENCODER_VAR]
               [--both_decoders_freeze BOTH_DECODERS_FREEZE]
main.py: error: unrecognized arguments: ---both_decoders_freeze True -freeze_Encoder True
+ wait
+ echo 'All done !'
