Loading pytorch-gpu/py3/1.6.0
  Loading requirement: gcc/8.3.1 cuda/10.2 nccl/2.6.4-1-cuda
    cudnn/7.6.5.32-cuda-10.2 intel-mkl/2020.1 magma/2.5.3-cuda
    openmpi/4.0.2-cuda
++ sed -n 68p parameters_combinations/mnist_classifier_ratio.txt
+ LINE='--dataset mnist --model CNN --gpu_devices 0 1 --max_iter 50 --batch_size 256 --ckpt_dir checkpoints_CNN --ckpt_dir_scores checkpoint_scores_CNN --use_scheduler True --GMP True --lr 1e-3 --z_struct_size 32 --add_classification_layer True --classif_layer_size 30  --is_default_model False --is_custom_model False --is_custom_model_BK True --big_kernel_size 8 --two_conv_layer True --three_conv_layer False --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 32 --hidden_filters_layer2 32 --hidden_filters_layer3 32 --ratio_reg False --lambda_ratio_reg 1 --lambda_class 1 --other_ratio False --loss_min_distance_cl False --lambda_var_distance 1 --intra_class_variance_loss False --lambda_intra_class_var 1 --contrastive_loss False --lambda_contrastive_loss 1 --alpha 32 --loss Proxy_Anchor --optimizer adamw --mrg 0.1 --IPC False --warm 1 --sz_embedding 32 --dataset_balanced True --loss_distance_mean False --lambda_distance_mean 1 --value_target_distance_mean 10 --diff_var True --lambda_var_intra 0.01 --lambda_var_inter 10 --exp_name mnist_balanced_dataset_encoder_diff_var_4_1'
+ echo --dataset mnist --model CNN --gpu_devices 0 1 --max_iter 50 --batch_size 256 --ckpt_dir checkpoints_CNN --ckpt_dir_scores checkpoint_scores_CNN --use_scheduler True --GMP True --lr 1e-3 --z_struct_size 32 --add_classification_layer True --classif_layer_size 30 --is_default_model False --is_custom_model False --is_custom_model_BK True --big_kernel_size 8 --two_conv_layer True --three_conv_layer False --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 32 --hidden_filters_layer2 32 --hidden_filters_layer3 32 --ratio_reg False --lambda_ratio_reg 1 --lambda_class 1 --other_ratio False --loss_min_distance_cl False --lambda_var_distance 1 --intra_class_variance_loss False --lambda_intra_class_var 1 --contrastive_loss False --lambda_contrastive_loss 1 --alpha 32 --loss Proxy_Anchor --optimizer adamw --mrg 0.1 --IPC False --warm 1 --sz_embedding 32 --dataset_balanced True --loss_distance_mean False --lambda_distance_mean 1 --value_target_distance_mean 10 --diff_var True --lambda_var_intra 0.01 --lambda_var_inter 10 --exp_name mnist_balanced_dataset_encoder_diff_var_4_1
+ python3 -u main.py --dataset mnist --model CNN --gpu_devices 0 1 --max_iter 50 --batch_size 256 --ckpt_dir checkpoints_CNN --ckpt_dir_scores checkpoint_scores_CNN --use_scheduler True --GMP True --lr 1e-3 --z_struct_size 32 --add_classification_layer True --classif_layer_size 30 --is_default_model False --is_custom_model False --is_custom_model_BK True --big_kernel_size 8 --two_conv_layer True --three_conv_layer False --BK_in_first_layer True --BK_in_second_layer False --BK_in_third_layer False --stride_size 1 --hidden_filters_layer1 32 --hidden_filters_layer2 32 --hidden_filters_layer3 32 --ratio_reg False --lambda_ratio_reg 1 --lambda_class 1 --other_ratio False --loss_min_distance_cl False --lambda_var_distance 1 --intra_class_variance_loss False --lambda_intra_class_var 1 --contrastive_loss False --lambda_contrastive_loss 1 --alpha 32 --loss Proxy_Anchor --optimizer adamw --mrg 0.1 --IPC False --warm 1 --sz_embedding 32 --dataset_balanced True --loss_distance_mean False --lambda_distance_mean 1 --value_target_distance_mean 10 --diff_var True --lambda_var_intra 0.01 --lambda_var_inter 10 --exp_name mnist_balanced_dataset_encoder_diff_var_4_1
--- Logging error ---
Traceback (most recent call last):
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 1025, in emit
    msg = self.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 869, in format
    return fmt.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 611, in format
    s = self.formatMessage(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 580, in formatMessage
    return self._style.format(record)
  File "/gpfslocalsup/pub/anaconda-py3/2020.02/envs/pytorch-gpu-1.6.0/lib/python3.7/logging/__init__.py", line 422, in format
    return self._fmt % record.__dict__
KeyError: 'asc_time'
Call stack:
  File "main.py", line 249, in <module>
    main(args)
  File "main.py", line 30, in main
    net = SolverClassifier(arguments)
  File "/gpfsdswork/projects/rech/rjg/uiu23ko/Thesis/Pytorch_vanilla_Beta_VAE/solver_classifier.py", line 313, in __init__
    self.test_loader_size))
Message: 'Dataset mnist: train with 60000 samples and 10000 test samples'
Arguments: ()
  0%|          | 0/50.0 [00:00<?, ?it/s]  4%|▍         | 2/50.0 [00:02<01:01,  1.28s/it] 10%|█         | 5/50.0 [00:02<00:40,  1.10it/s] 16%|█▌        | 8/50.0 [00:02<00:27,  1.55it/s] 22%|██▏       | 11/50.0 [00:02<00:18,  2.16it/s] 28%|██▊       | 14/50.0 [00:03<00:12,  2.98it/s] 34%|███▍      | 17/50.0 [00:03<00:08,  4.06it/s] 40%|████      | 20/50.0 [00:03<00:05,  5.44it/s] 46%|████▌     | 23/50.0 [00:03<00:03,  7.15it/s] 52%|█████▏    | 26/50.0 [00:03<00:02,  9.16it/s] 58%|█████▊    | 29/50.0 [00:03<00:01, 11.40it/s] 64%|██████▍   | 32/50.0 [00:03<00:01, 13.70it/s] 70%|███████   | 35/50.0 [00:03<00:00, 15.95it/s] 76%|███████▌  | 38/50.0 [00:03<00:00, 17.98it/s] 82%|████████▏ | 41/50.0 [00:04<00:00, 19.85it/s] 88%|████████▊ | 44/50.0 [00:04<00:00, 21.45it/s] 94%|█████████▍| 47/50.0 [00:04<00:00, 22.64it/s]100%|██████████| 50/50.0 [00:04<00:00, 23.56it/s]53it [00:04, 24.27it/s]                          56it [00:04, 24.86it/s]59it [00:04, 25.29it/s]62it [00:04, 25.45it/s]65it [00:04, 25.63it/s]68it [00:05, 25.68it/s]71it [00:05, 25.83it/s]74it [00:05, 25.99it/s]77it [00:05, 26.15it/s]80it [00:05, 26.25it/s]83it [00:05, 26.31it/s]86it [00:05, 26.38it/s]89it [00:05, 26.23it/s]92it [00:06, 23.09it/s]95it [00:06, 23.79it/s]98it [00:06, 24.45it/s]101it [00:06, 24.94it/s]104it [00:06, 25.25it/s]107it [00:06, 25.57it/s]110it [00:06, 25.75it/s]113it [00:06, 25.89it/s]116it [00:06, 25.97it/s]119it [00:07, 25.93it/s]122it [00:07, 26.01it/s]125it [00:07, 26.06it/s]128it [00:07, 26.17it/s]131it [00:07, 26.28it/s]134it [00:07, 26.38it/s]137it [00:07, 26.45it/s]140it [00:07, 26.51it/s]143it [00:07, 26.45it/s]146it [00:08, 26.30it/s]149it [00:08, 26.10it/s]152it [00:08, 25.97it/s]155it [00:08, 26.08it/s]158it [00:08, 26.05it/s]161it [00:08, 26.11it/s]164it [00:08, 26.15it/s]167it [00:08, 26.22it/s]170it [00:09, 26.16it/s]173it [00:09, 26.16it/s]176it [00:09, 26.20it/s]179it [00:09, 26.18it/s]182it [00:09, 26.23it/s]185it [00:09, 26.32it/s]188it [00:09, 26.39it/s]191it [00:09, 26.45it/s]194it [00:09, 26.52it/s]197it [00:10, 26.51it/s]200it [00:10, 26.28it/s]203it [00:10, 26.19it/s]206it [00:10, 26.00it/s]209it [00:10, 26.07it/s]212it [00:10, 26.10it/s]215it [00:10, 26.08it/s]218it [00:10, 26.16it/s]221it [00:10, 26.18it/s]224it [00:11, 26.22it/s]227it [00:11, 26.10it/s]230it [00:11, 26.12it/s]233it [00:11, 26.16it/s]236it [00:11, 26.19it/s]239it [00:11, 26.25it/s]242it [00:11, 26.33it/s]245it [00:11, 26.40it/s]248it [00:11, 26.45it/s]251it [00:12, 26.48it/s]254it [00:12, 26.28it/s]257it [00:12, 26.13it/s]260it [00:12, 26.01it/s]263it [00:12, 25.95it/s]                        264it [00:23, 25.95it/s]266it [00:23,  1.15s/it]269it [00:23,  1.22it/s]272it [00:24,  1.71it/s]275it [00:24,  2.38it/s]278it [00:24,  3.28it/s]281it [00:24,  4.44it/s]284it [00:24,  5.92it/s]287it [00:24,  7.71it/s]290it [00:24,  9.79it/s]293it [00:24, 12.02it/s]296it [00:24, 14.31it/s]299it [00:25, 16.48it/s]302it [00:25, 18.50it/s]305it [00:25, 20.27it/s]308it [00:25, 21.68it/s]311it [00:25, 22.87it/s]314it [00:25, 23.75it/s]317it [00:25, 24.48it/s]320it [00:25, 24.84it/s]323it [00:25, 25.22it/s]326it [00:26, 25.51it/s]329it [00:26, 25.70it/s]332it [00:26, 25.87it/s]335it [00:26, 26.04it/s]338it [00:26, 26.15it/s]341it [00:26, 26.27it/s]344it [00:26, 26.36it/s]347it [00:26, 26.27it/s]350it [00:27, 26.09it/s]353it [00:27, 26.13it/s]356it [00:27, 26.04it/s]359it [00:27, 25.90it/s]362it [00:27, 25.93it/s]365it [00:27, 25.98it/s]368it [00:27, 26.05it/s]371it [00:27, 26.11it/s]374it [00:27, 26.11it/s]377it [00:28, 26.10it/s]380it [00:28, 26.04it/s]383it [00:28, 26.05it/s]386it [00:28, 26.11it/s]389it [00:28, 26.22it/s]392it [00:28, 26.29it/s]395it [00:28, 26.37it/s]398it [00:28, 26.41it/s]401it [00:28, 26.40it/s]404it [00:29, 26.32it/s]407it [00:29, 26.12it/s]410it [00:29, 25.91it/s]413it [00:29, 25.92it/s]416it [00:29, 25.96it/s]419it [00:29, 25.95it/s]422it [00:29, 26.06it/s]425it [00:29, 26.04it/s]428it [00:30, 26.09it/s]431it [00:30, 25.99it/s]434it [00:30, 26.04it/s]437it [00:30, 26.06it/s]440it [00:30, 26.11it/s]443it [00:30, 26.19it/s]446it [00:30, 26.26it/s]449it [00:30, 26.28it/s]452it [00:30, 26.34it/s]455it [00:31, 26.39it/s]458it [00:31, 26.22it/s]461it [00:31, 26.06it/s]464it [00:31, 25.90it/s]467it [00:31, 25.84it/s]470it [00:31, 25.77it/s]473it [00:31, 25.77it/s]476it [00:31, 25.89it/s]479it [00:31, 25.91it/s]482it [00:32, 26.02it/s]485it [00:32, 25.94it/s]488it [00:32, 25.97it/s]491it [00:32, 26.02it/s]494it [00:32, 26.05it/s]497it [00:32, 26.04it/s]500it [00:32, 26.16it/s]503it [00:32, 26.27it/s]506it [00:32, 26.34it/s]509it [00:33, 26.30it/s]512it [00:33, 26.19it/s]515it [00:33, 25.99it/s]518it [00:33, 25.91it/s]521it [00:33, 25.79it/s]524it [00:33, 25.83it/s]527it [00:33, 25.85it/s]                        528it [00:44, 25.85it/s]530it [00:45,  1.15s/it]533it [00:45,  1.23it/s]536it [00:45,  1.72it/s]539it [00:45,  2.39it/s]542it [00:45,  3.28it/s]545it [00:45,  4.46it/s]548it [00:45,  5.94it/s]551it [00:45,  7.74it/s]554it [00:45,  9.79it/s]557it [00:46, 12.01it/s]560it [00:46, 14.31it/s]563it [00:46, 16.48it/s]566it [00:46, 18.48it/s]569it [00:46, 20.23it/s]572it [00:46, 21.71it/s]575it [00:46, 22.89it/s]578it [00:46, 23.74it/s]581it [00:46, 24.38it/s]584it [00:47, 24.78it/s]587it [00:47, 25.15it/s]590it [00:47, 25.45it/s]593it [00:47, 25.73it/s]596it [00:47, 25.93it/s]599it [00:47, 26.11it/s]602it [00:47, 26.26it/s]605it [00:47, 26.34it/s]608it [00:47, 26.20it/s]611it [00:48, 26.03it/s]614it [00:48, 25.89it/s]617it [00:48, 25.87it/s]620it [00:48, 25.93it/s]623it [00:48, 25.88it/s]626it [00:48, 25.88it/s]629it [00:48, 25.84it/s]632it [00:48, 25.92it/s]635it [00:49, 25.89it/s]638it [00:49, 25.95it/s]641it [00:49, 25.99it/s]644it [00:49, 25.98it/s]647it [00:49, 26.08it/s]650it [00:49, 26.17it/s]653it [00:49, 26.26it/s]656it [00:49, 26.36it/s]659it [00:49, 26.42it/s]662it [00:50, 26.23it/s]665it [00:50, 26.12it/s]668it [00:50, 25.94it/s]671it [00:50, 25.86it/s]674it [00:50, 25.95it/s]677it [00:50, 25.94it/s]680it [00:50, 26.01it/s]683it [00:50, 26.03it/s]686it [00:50, 26.09it/s]689it [00:51, 26.05it/s]692it [00:51, 26.04it/s]695it [00:51, 26.07it/s]698it [00:51, 26.10it/s]701it [00:51, 26.16it/s]704it [00:51, 26.25it/s]707it [00:51, 26.28it/s]710it [00:51, 26.32it/s]713it [00:52, 26.37it/s]716it [00:52, 26.35it/s]719it [00:52, 26.12it/s]722it [00:52, 25.92it/s]725it [00:52, 25.84it/s]728it [00:52, 25.91it/s]731it [00:52, 25.93it/s]734it [00:52, 25.96it/s]737it [00:52, 25.94it/s]740it [00:53, 26.06it/s]743it [00:53, 25.91it/s]746it [00:53, 25.94it/s]749it [00:53, 26.03it/s]752it [00:53, 26.07it/s]755it [00:53, 26.07it/s]758it [00:53, 26.10it/s]761it [00:53, 26.15it/s]764it [00:53, 26.20it/s]767it [00:54, 26.26it/s]770it [00:54, 26.32it/s]773it [00:54, 26.06it/s]776it [00:54, 26.03it/s]779it [00:54, 25.92it/s]782it [00:54, 25.84it/s]785it [00:54, 25.94it/s]788it [00:54, 25.88it/s]791it [00:55, 25.95it/s]slurmstepd: error: *** JOB 387611 ON jean-zay-ia824 CANCELLED AT 2021-03-17T20:12:51 ***
